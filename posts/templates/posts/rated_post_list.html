{% extends 'posts/layout.html' %} {% load static %} {% block head_block %}
<link rel="stylesheet" href="{% static 'css/post_list.css' %}" />
{% endblock head_block %} {% block local_block %}
<div class="container">
  <div class="wrap">
{% extends 'posts/layout.html' %}
{% load static %}

{% block local_block %}
    <div id="max-page">{{ max_page }}</div>
    <a href="{% url 'posts:post_create' %}?category={{category}}">글쓰기</a>
    <ul class="posts">
      {% for post in posts %}
      <li data-post-id="{{post.pk}}" class="post">
        <a href="{% url 'posts:post_detail' post.pk %}?category={{category}}">
          <span>{{post.title}}</span>
          <span>{{post.user.nickname}}</span>
          <span
            ><i class="fas fa-heart"></i
            ><span>{{post.like.all|length}}</span></span
          >
          <span class="post_rate">{{post.rate}}</span>
        </a>
      </li>
      {% endfor %}
    </ul>
  </div>
</div>
<div class="edit">
  <a href="{% url 'posts:post_create' %}?category={{category}}"
    ><i id="pencil" class="fas fa-edit"></i
  ></a>
</div>

<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script>
  axios.defaults.xsrfCookieName = "csrftoken";
  axios.defaults.xsrfHeaderName = "X-CSRFToken";
  const category = "{{category}}";
</script>
<script src="{% static 'js/infiniteScroll.js' %}"></script>
<script src="{% static 'js/rateToStar.js' %}"></script>
{% endblock local_block %}
